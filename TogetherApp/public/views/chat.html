<div ng-controller="userController">

    <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
        <div class="container">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse"
                        data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="#/admin" title="Link to the admin page." ng-hide="(auth.isAuth && !auth.isAdmin) || (!auth.isAuth)">Together.</a>
                <a class="navbar-brand" href="#/home" title="Link to the home page." ng-show="(auth.isAuth && !auth.isAdmin) || (!auth.isAuth)">Together.</a>
            </div>
            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse navbar-right" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav">
                    <li>
                        <a href="#/howto" title="Link to the how to page.">how to</a>
                    </li>
                    <li ng-hide="auth.isAuth">
                        <a href="#/signup" title="Link to the signup page.">register</a>
                    </li>
                    <li ng-show="auth.isAuth && !auth.isAdmin">
                        <a href="#/activities" title="Link to the activities page.">activities</a>
                    </li>
                    <li ng-show="auth.isAuth && !auth.isAdmin">
                        <a href="#/matches" title="Link to the matches page.">matches</a>
                    </li>
                    <li ng-show="auth.isAuth && !auth.isAdmin">
                        <a href="#/searchprofiles" title="Link to the search profiles page.">search profiles</a>
                    </li>
                    <li>

                        <button class="btn-dropdown dropdown-toggle" data-toggle="dropdown" data-hover="dropdown"
                                ng-show="auth.isAuth">

                            {{user.firstname}} {{user.lastname}} <b class="caret"></b>

                        </button>

                        <ul class="dropdown-menu">
                            <li><a tabindex="-1" href="#/myprofile" title="Link to your profile page.">My profile</a></li>
                            <li><a tabindex="-1" href="/logout" title="Link to logout.">Logout</a></li>
                            <li ng-show="auth.isAuth && auth.isAdmin" class="divider"></li>
                            <li ng-show="auth.isAuth && auth.isAdmin"><a tabindex="-1" href="#/{{user.username}}" title="Link to the admin page.">Admin
                                page</a></li>
                        </ul>
                    </li>
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container -->
    </nav>

    <section ng-hide="(!auth.isAuth)" ng-controller="ChatController">
        <div class="title text-center">
            <h1>Chat with {{contactedUser.firstname}} {{contactedUser.lastname}}</h1>

            <p>Chat</p>
            <img src="../images/title_line.png">
        </div>

        <div class="col">
            <h3>Messages</h3>
            <div class="overflowable">
                <p ng-repeat="message in messages">{{message.user.firstname}}: {{message.text}}</p>
            </div>
        </div>
       <!-- <div class="col">
            <h3>Users</h3>
            <div class="overflowable">
                <p ng-repeat="user in users">{{user}}</p>
            </div>
        </div>-->
        <div class="clr">
            <form ng-submit="sendMessage()">Message:
                <input size="60" ng-model="message"/>
                <input type="submit" value="Send"/>
            </form>
        </div>
        <!--<div class="clr">
            <h3>Change your name</h3>
            <p>Your current user name is {{name}}</p>
            <form ng-submit="changeName()">
                <input ng-model="newName"/>
                <input type="submit" value="Change Name"/>
            </form>
        </div>-->
    </section>

</div>